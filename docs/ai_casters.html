<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DIVINA: 주역점 보기</title>
<meta name="description" content="Divina의 주역점은 정통 방식인 지초법과 후대에 생겨난 동전법, 그리고 자기만의 점치는 방식이 있는 분들을 위한 커스텀 점괘 입력을 지원합니다.">
<link rel="icon" type="image/svg+xml" href="icon/No49.svg">
<link rel="apple-touch-icon" sizes="180x180" href="icon/No49.png">
<link rel="icon" type="image/png" sizes="512x512" href="/docs/icon/No49_512.png?v=2">
<link rel="icon" type="image/png" sizes="256x256" href="/docs/icon/No49_256.png?v=2">
<link rel="icon" type="image/png" sizes="192x192" href="/docs/icon/No49_192.png?v=2">
<link rel="icon" type="image/png" sizes="32x32"  href="/docs/icon/No49_32.png?v=2">
<link rel="icon" type="image/png" sizes="16x16"  href="/docs/icon/No49_16.png?v=2">
<link rel="preload"
      href="./assets/fonts/NotoSerifCJKkr-Semibold-iching.woff2"
      as="font" type="font/woff2" crossorigin>
<!-- Open Graph (KakaoTalk 미리보기용) -->
<meta property="og:type"        content="website">
<meta property="og:site_name"   content="Divina">
<meta property="og:title"       content="Divina: 주역점과 AI의 만남">
<meta property="og:description" content="클릭 한 번으로 64괘 점괘와 AI 해석까지.">
<meta property="og:url"         content="https://www.divina.studio/">
<meta property="og:locale"      content="ko_KR">

<!-- 썸네일: 절대경로 + 크기 명시 -->
<meta property="og:image"        content="https://www.divina.studio/icon/No49_og_2.png?v=1">
<meta property="og:image:width"  content="1200">
<meta property="og:image:height" content="630">

<!-- 트위터(기타 메신저 대비) -->
<meta name="twitter:card"        content="summary_large_image">
<meta name="twitter:title"       content="Divina: 주역점과 AI의 만남">
<meta name="twitter:description" content="클릭 한 번으로 64괘 점괘와 AI 해석까지.">
<meta name="twitter:image"       content="https://www.divina.studio/icon/No49_og_2.png?v=1">

<style>

@font-face{
  font-family: "NotoSerifCJK-ICHING";
  src: url("./assets/fonts/NotoSerifCJKkr-Semibold-iching.woff2") format("woff2");
  font-weight: 600;          /* Semibold */
  font-style: normal;
  font-display: swap;
}
  
  :root{
    --bg:#0c111b; --card:#111a2b; --border:#22304a; --ink:#eaf0ff;
    --muted:#a8b6d7; --accent:#2b8cff; --yang:#e7eefc; --yin:#e7eefc; --mark:#ff6b6b;
    --hexWidth: 192px; --lineHeight: 24px; --rowGap: 12px; --yinGap: 26px;
    --contentMax: 1200px;
    --cardW: 360px; --cardGap: 18px; /* more compact cards */
    --metaCol1: 38px; --metaCol2: 75px; --metaCol3: 45px; --metaCol4: 95px; --metaCol5: 53px; /* tighter grid */
          /* === Brand size knobs === */
        --brandLogoSize: 140px;      /* 로고(정사각) 크기 */
        --brandTypeWidth: 205px;     /* 로고타입(svg 글자) 가로폭 */
        --brandGap: 12px;            /* 둘 사이 간격 */
  }
  html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,'Malgun Gothic',Segoe UI,Roboto,sans-serif}
  .wrap{max-width:var(--contentMax);margin:0 auto;padding:90px 12px 0}

  .brandWrap{
  display:flex; flex-direction:column; align-items:center;
  gap:var(--brandGap);
  margin: 25px 0 6px;          /* 상단 여백 조절 */
  }
  .brandWrap a{ display:inline-block; text-decoration:none; }
  .brandLogo{ width:var(--brandLogoSize); height:auto; }
  .brandType{ width:min(var(--brandTypeWidth), 84vw); height:auto; }

  /* 작은 화면에서 자동 보정(원하면 값 수정) */
  @media (max-width:480px){
    :root{
      /*--brandLogoSize: 110px;*/
      --brandTypeWidth: 180px;
      --brandGap: 10px;
    }
  }

  /* 스크린리더/SEO용 숨김 텍스트 */
  .sr-only{
  position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
  }
      
  h1{font-size:50px;margin:0 0 0px;text-align:center;letter-spacing:-1.0px} /* 1.5x */
      /* 사이트 공통 헤더(h1) */
h1,
.page-title {                /* 페이지 최상단 타이틀에 쓰는 클래스가 있으면 같이 */
  font-family: "NotoSerifCJK-ICHING", serif !important;
  font-weight: 600 !important;
  font-synthesis: none;      /* 가짜 볼드 방지 */
  letter-spacing:0em;     /* 취향 보정 */
}
h2{font-family:"NotoSerifCJK-ICHING",serif;margin:8px 0 6px;text-align:center;font-size:26px;color:var(--ink)}
.sub{font-weight:300;line-height:1.6;color:var(--muted);text-align:center;margin:0 0 16px}

  .btns{display:flex;justify-content:center;gap:14px;margin:12px 0 34px}
  button{background:var(--accent);color:#fff;border:0;border-radius:12px;padding:14px 20px;font-weight:700;cursor:pointer;box-shadow:0 2px 10px rgba(0,0,0,.2);font-size:1.5rem} /* 1.2x text */
  .row{display:flex;gap:var(--cardGap);align-items:flex-start;flex-wrap:wrap;justify-content:center}
  .card{flex:0 1 var(--cardW);max-width:var(--cardW);background:var(--card);border:1px solid var(--border);border-radius:14px;padding:14px;box-shadow:0 2px 10px rgba(0,0,0,.25)}
  .badge{display:inline-block;background:#1a2540;border:1px solid #2c3b58;border-radius:10px;padding:4px 10px;margin-bottom:8px}
  .title{text-align:center;margin:6px 0 8px}
  .title .han{font-size:36px;font-weight:900;letter-spacing:1px}
  .title .ko{font-size:14px;color:var(--muted);margin-top:4px}
  .panel{display:grid;grid-template-columns:auto;gap:10px;align-items:center;justify-items:center}
  .hex{display:grid;grid-template-columns:26px auto 26px;row-gap:var(--rowGap);align-items:center}
  .lab{text-align:center;font-size:11px;color:#c2cfe9;padding-top:2px}
  .sp{width:26px;height:var(--lineHeight)}
  .lineWrap{position:relative;width:var(--hexWidth);height:var(--lineHeight);justify-self:center}
  .line{height:100%;border-radius:7px;background:#25324a;position:absolute;inset:0}
  .yang .line::before{content:'';position:absolute;inset:2px;background:var(--yang);border-radius:5px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}
  .yin .line::before, .yin .line::after{content:'';position:absolute;top:2px;bottom:2px;width:calc(50% - (var(--yinGap)/2));background:var(--yin);border-radius:5px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}
  .yin .line::before{left:2px} .yin .line::after{right:2px}
  .yin .gap{position:absolute;left:50%;top:2px;bottom:2px;transform:translateX(-50%);width:var(--yinGap);background:#111a2b;border-radius:4px;box-shadow:0 0 0 1px rgba(0,0,0,.12) inset}
  .chg::after{content:'變';position:absolute;right:-8px;top:-4px;background:var(--mark);color:#fff;font-weight:600;font-size:11px;line-height:16px;padding:0 6px;border-radius:6px;box-shadow:0 1px 6px rgba(0,0,0,.3)}
  /* Meta under hex - fixed columns, tighter */
  .metaUnder{border-top:1px dashed #2a3b5a;margin-top:8px;padding-top:6px;text-align:center;width:100%}
  .metaRow{display:grid;grid-template-columns:var(--metaCol1) var(--metaCol2) var(--metaCol3) var(--metaCol4) var(--metaCol5);align-items:center;justify-items:start;column-gap:6px;margin:2px 0}
  .metaRow .lab2{color:#a9b8dc;justify-self:end;padding-right:2px}
  .metaRow .mono{font-variant-numeric:tabular-nums}
  .read{margin-top:8px;padding:8px 10px;border:1px solid #2a3b5a;border-radius:10px;background:#0f1a2e}
  .read h4{margin:0 0 6px;font-size:15px;color:#cfe0ff}
  .read ul{margin:6px 0 0 18px;padding:0;line-height:1.45}
  /* Joint interpretation area */
  .joint{margin-top:22px;padding:28px 28px;border:1px solid #2a3b5a;border-radius:16px;background:#0e172a;text-align:left;width:calc((2 * var(--cardW)) + var(--cardGap));margin-left:auto;margin-right:auto}
  .joint .summary{font-size:30px;font-weight:900;margin:0 0 16px;text-align:center}
  .joint .detail{font-size:19px;line-height:2.0;white-space:pre-line}
  .legend{margin-top:30px;margin-bottom:20px;font-size:12px;color:#a4b2d4;text-align:center}
  @media (max-width:860px){
    .card{flex-basis:100%;max-width:640px}
    .joint{width:auto}
  }

/* split-pages layout */
.mainWrap{max-width:1100px;margin:0 auto;padding:0 16px 40px}
h1{margin-top:46px}
.centerTop{display:flex;justify-content:center;margin:18px 0 4px}
.centerTop .run{background:#7c8bf5;color:#fff;border:0;border-radius:14px;padding:12px 18px;font-weight:700;cursor:pointer}
.stackBtns{display:flex;flex-direction:column;gap:24px;margin:16px auto 10px;max-width:260px}
.stackBtns .btn{display:block;width:100%;border:1.2px solid var(--ink);padding:13px 0px;color:var(--ink);font-size:18px;font-weight:300;cursor:pointer;letter-spacing:.2px;box-shadow:0 4px 16px rgba(0,0,0,.2);text-align:center;text-decoration:none}
    .stackBtns .green{background:#141e32;}
    .stackBtns .blue{background:#141e32;}
    .stackBtns .coral{background:#141e32;}
        .stackBtns a, .btn{
              position: relative;
              display: inline-block;
              text-decoration: none;
              color: inherit;
              isolation: isolate;           /* 겹침 안전 */
              overflow: hidden;             /* 빛줄기 클리핑 */
              }
       .stackBtns a::after, .stackBtns .btn::after{content: "";
                position: absolute;
                top: -20%;
                bottom: -20%;
                left: -35%;
                width: 28%; 
              background: linear-gradient(120deg,
              rgba(255,255,255,0) 0%,
              rgba(255,255,255,0.85) 50%,
              rgba(255,255,255,0) 100%);
              transform: skewX(-20deg) translateX(-200%);
              transition: transform 800ms cubic-bezier(.2,.8,.2,1);
              mix-blend-mode: screen;       /* 다크/골드 배경 위에서 금속광 느낌 */
              opacity: .75;                 /* 필요시 0.6~0.9로 조절 */
              will-change: transform;}
       .stackBtns .btn:hover::after{transform: skewX(-20deg) translateX(450%)}
.bottomNav{display:flex;justify-content:center;margin:18px 0 10px}
.bottomNav a, .bottomNav button{background:#243552;color:#cfe0ff;border:1px solid #2a3b5a;border-radius:12px;padding:10px 16px;font-weight:700;text-decoration:none}
.hidden{display:none}

/* 순차 등장: 기본 상태(숨김) + 항상 transition 적용 */
.js-reveal,
[data-reveal-group] > * {
  opacity: 0;
  transform: translateY(8px);
  filter: blur(2px);
  transition: opacity .6s ease, transform .6s ease, filter .6s ease;
  will-change: opacity, transform, filter;
}

/* 보일 때 */
.js-reveal.show,
[data-reveal-group] > *.show {
  opacity: 1;
  transform: translateY(0);
  filter: blur(0);
}

/* 모션 저감 사용자의 경우:
   - 이동/블러만 제거 (깜빡임 최소화)
   - transition은 끄지만, opacity는 기본 0을 유지 → JS로 순차 노출은 그대로 */
/*@media (prefers-reduced-motion: reduce) {
  .js-reveal,
  [data-reveal-group] > * {
    transform: none !important;
    filter: none !important;
    transition: none !important;
  }
}*/

 /* 상단 텍스트 링크 */
.topNav{
  display:column; gap:17px;
  justify-content:center;
  margin: 10px 0 6px;
}
.topLink{
  display:inline-block;
  font-weight: 400;          /* 약간의 두께 */
  font-size: 15px;           /* 작은 텍스트 */
  letter-spacing: .02em;
  color:#a4b2d4;
  text-decoration: none;     /* 기본은 밑줄 없음 */
  text-underline-offset: 3px;
}
.topLink:hover,
.topLink:focus-visible{
  text-decoration: underline; /* hover/focus에만 밑줄 */
  outline: none;
}
     
/* ===== Modal ===== */
.modal{ position: fixed; inset: 0; z-index: 999; display: grid; place-items: center; }
.modal.hidden{ display: none; }

.modal__backdrop{
  position:absolute; inset:0;
  background: rgba(8,12,20,.45);
  /* 배경 블러 */
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.modal__wrap{
  display:flex; flex-direction:column; align-items:center;
}

.modal__dialog{
  position: relative;
  max-width: 540px;
  width: 80%;
  background: var(--card);
  color: var(--ink);
  border: 1px solid var(--border);
  border-radius: 5px;
  padding: 22px 22px 8px;
  box-shadow: 0 18px 50px rgba(0,0,0,.45);
}

.modal__title{
  margin:0 0 10px; text-align: center;
  font: 600 25px/1.2 "NotoSerifCJK-ICHING", serif;
}

.modal__body{ font-size: 15px; font-weight: 300; line-height: 1.75; color: var(--ink); }
.modal__body b{ font-weight: 900;}
.modal__more{ margin-top: 10px; color: var(--muted); }
.modal__more a{font-weight: 700; color: var(--muted); text-decoration: underline}

.modal__close{
  display:block; position:relative; margin:22px auto 22px;
  width:42px; height:42px; border:1px solid var(--border); border-radius:10px;
  background:var(--card); color:var(--muted); font-size:32px; line-height:36px;
  cursor:pointer;
  box-shadow: 0 2px 8px rgba(0,0,0,.25);
}

.modal__close svg{fill:var(--muted); width:20px; height:20px; position:absolute; top:26%; right:24.5%; }

.modal__close:hover{
  background:var(--muted); border-color:var(--muted);
}

.modal__close:hover svg{fill:var(--bg)}

/* (fallback) 일부 브라우저에서 backdrop-filter 미지원 시 페이지 자체 블러 */
.blurPage{ filter: blur(4px); pointer-events: none; user-select: none; }

</style></head>
<body>
<div class="mainWrap">
  <h1 class="sr-only">Divina Studio</h1>
      <!-- 브랜드 블록: 위 로고, 아래 로고타입 -->
    <div class="brandWrap">
        <!-- 로고: 클릭 시 index.html 이동 -->
        <a href="index.html" aria-label="Divina Studio Home">
          <img src="./icon/No49.svg" alt="Divina logo" class="brandLogo">
        </a>
        <h2 class="js-reveal">어떤 방식으로 할까요?</h2>
        <p class="sub js-reveal">마음이 가는 방식을 골라<br>직접 점괘를 실행해 보세요.</p>
        <div class="topNav js-reveal">
          <a class="topLink" href="iching_basic_info.html#methods">◆ 지초법과 동전법이 뭐에요? ◆</a>
        </div>
      </div>
  <div class="stackBtns">
    <a class="btn green js-reveal" href="ai_cast_yarrow.html">지초법으로 볼게요</a>
    <a class="btn blue js-reveal"  href="ai_cast_coins.html">동전법으로 볼게요</a>
    <a class="btn coral js-reveal" href="ai_cast_custom.html">커스텀으로 입력할게요</a>
  </div>
  <div class="legend js-reveal">© 2025. 妙公 (Myo Gong). All Rights Reserved.</div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const items = [
    ...document.querySelectorAll('.js-reveal') /*,
    ...document.querySelectorAll('[data-reveal-group] > *') */
  ];

  const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  const baseDelay = 800;  // 헤더만 먼저 보이게 잠깐 대기
  const step = 200;       // 항목 간 지연(ms) — 취향껏 120~240 사이로 조절

  items.forEach((el, i) => {
    const delay = baseDelay + i * step;
    setTimeout(() => {
      // reflow로 첫 프레임 확실히 고정
      void el.offsetWidth;
      el.classList.add('show');  // reduce여도 순차 등장(애니 없음)
    }, delay);
  });
});

</script>

<div id="methodModal" class="modal hidden" aria-hidden="true">
  <div class="modal__backdrop" data-close></div>

  <div class="modal__wrap">
  <div class="modal__dialog" role="dialog" aria-labelledby="methodTitle" aria-modal="true">

    <h3 id="methodTitle" class="modal__title">지초법과 동전법</h3>
    
    <div class="modal__body">
      <p>
        <b>지초법</b>은 고대의 정통 점법입니다.
        효마다 네 값(노음·소양·소음·노양)이 나올 확률이 <b>비대칭적</b>입니다.
        중대한 기로의 결정을 앞두고 신중히 점을 칠 때 추천합니다.
      </p>
      <p>
        <b>동전법</b>은 후대에 생긴 간이법입니다.
        네 값(노음·소양·소음·노양)이 나올 확률이 <b>대칭적</b>입니다.
        가볍고 일상적인 질문으로 점을 칠 때 추천합니다.
      </p>
      <p class="modal__more">
        자세한 설명은 <a href="iching_basic_info.html#methods">기초 안내서</a>를 참고해주세요.
      </p>
    </div>

  </div>

    <button class="modal__close" aria-label="Close" data-close>
      <svg id="closer" version="1.1" viewBox="0 0 40 40">
        <polygon points="5.7 39.62 .55 33.98 14.54 19.91 .35 5.67 5.67 .38 19.87 14.59 34.14 .38 34.18 .39 39.65 5.66 25.26 20.02 39.49 34.21 34.03 39.43 19.96 25.35 5.7 39.62"/>
      </svg>
    </button>

  </div>
</div>

<script>

// === Modal open/close ===
(function(){
  const openLink = document.querySelector('.topNav .topLink[href*="iching_basic_info.html#methods"]');
  const modal = document.getElementById('methodModal');
  const dialog = modal?.querySelector('.modal__dialog');
  const backdrop = modal?.querySelector('.modal__backdrop');
  const closeBtns = modal?.querySelectorAll('[data-close]');
  const pageRoot = document.querySelector('.mainWrap'); // 페이지 본문 래퍼

  let lastFocused = null;
  const supportsBackdrop = CSS.supports('backdrop-filter','blur(1px)') || CSS.supports('-webkit-backdrop-filter','blur(1px)');

  function openModal(e){
    if(e) e.preventDefault();
    if(!modal) return;
    lastFocused = document.activeElement;

    modal.classList.remove('hidden');
    document.documentElement.style.overflow = 'hidden'; // 스크롤 잠금

    // fallback 블러
    if(!supportsBackdrop && pageRoot){
      pageRoot.classList.add('blurPage');
    }

    // 포커스 이동
    const focusTarget = modal.querySelector('.modal__close') || dialog;
    focusTarget?.focus();
    modal.setAttribute('aria-hidden','false');
  }

  function closeModal(){
    if(!modal) return;
    modal.classList.add('hidden');
    document.documentElement.style.overflow = '';
    if(pageRoot) pageRoot.classList.remove('blurPage');
    modal.setAttribute('aria-hidden','true');
    lastFocused?.focus?.();
  }

  // 트리거: 상단 텍스트 링크
  if(openLink){
    openLink.addEventListener('click', openModal);
    openLink.setAttribute('role','button');
    openLink.setAttribute('aria-haspopup','dialog');
  }

  // 닫기 버튼/배경 클릭
  closeBtns?.forEach(btn => btn.addEventListener('click', closeModal));
  backdrop?.addEventListener('click', closeModal);

  // ESC 키로 닫기
  document.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape' && !modal.classList.contains('hidden')) closeModal();
  });

  // 대화상자 내부 클릭이 배경 클릭으로 전파되지 않도록
  dialog?.addEventListener('click', (e)=> e.stopPropagation());
})();

</script>

</body></html>
